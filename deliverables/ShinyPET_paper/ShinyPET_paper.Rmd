---
title: "ShinyPET: A Predictive, Exploratory and Text RShiny Application using Airbnb data"
author:
  - name: Ang Su Yiin
    email: suyiin.ang.2020@mitb.smu.edu.sg
    affiliation: Singapore Management University
  - name: Joey Chua
    email: joey.chua.2020@mitb.smu.edu.sg
    affiliation: Singapore Management University  
  - name: Kevin Gunawan Albindo
    email: kgalbindo.2019@mitb.smu.edu.sg
    affiliation: Singapore Management University
abstract: |
  The increasing availability of data has resulted in the increased demand for data driven decisions. Although there is an extensive range of commercial statistical tools, they are often subscription-based and demand good technical knowledge to mine and draw insights from. Therefore, it may not appeal to the average user. Using a collection of R packages available, A R-Shiny application was developed for the average user to perform exploratory and confirmatory analysis, text mining and predictive analysis to formulate insights and make data based decisions. We have used Airbnb data as our baseline for this project as data generated is rich in information, consisting of structured, unstructured (textual), and location data. This paper discusses the application's design choices, use case and future works.
csl: acm-sig-proceedings.csl
output: rticles::acm_article
header-includes: 
- \usepackage{graphicx}
- \usepackage{float}
---
```{r setup, include=FALSE}
library(knitr)
knitr::opts_chunk$set(echo = FALSE, fig.pos = "H", fig.align='center')
```

*Keywords* - Airbnb, Exploratory Analysis, Confirmatory Analysis, Text Mining, Predictive Analytics, Decision Making, R Shiny, Interactive Data Visualisation.

# 1. Introduction

With the explosion of affordable data storage and processing technologies, the demand for data-driven decision-making (DDDM) has increased significantly. DDDM refers to the systematic analysis, examination and integration of data to making strategic decisions, rather than based on intuition or observation alone (Mandinach, 2012). As well-published Geoffrey Moore opines, “Without big data analytics, companies are blind and deaf, wandering out onto the Web like deer on a freeway.”  Research by (Yasmin, 2020) found that the use of data driven decision making through analytics tools had a positive impact on firm performance.

# 2. Motivation of the application

This project was motivated by the increasing demand for data analytics as well as the lack of open source tools for users to perform analytics to undercover meaningful patterns from structured, textual and spatial data.

Although, there is a wide range of commercial statistical and analytics tools available, these tools are often subscription-based and require technical knowledge to mine and draw insights from. Alternatively, open source tools as such R allows for interactive data visualisations, however users would require extensive programming background to generate such insights.

As such, we have developed a free, user-friendly and interactive tool with 3 modules :
1) Exploratory - allows users to identify interesting patterns based on selected variables. Findings from the exploratory module are augmented by a statistical test based on user’s chosen variables.  
2) Text - users can be able to perform analysis on textual data to generate more quantitative insights.    
3) Predictive - enables users to prepare and build a variety of prediction models without needing to have in-depth understanding of the predictive models and its algorithms.  

To achieve our objective, we have used Airbnb data as our baseline as data generated is rich in information, including structured data such as price and location, as well as unstructured data such as reviews and listing descriptions. Thus, with our application, anyone and everyone would be able to make data-based decisions effortlessly.

# 3. Review and critic on past works

# 4. Design framework

Our target users for this application are the average users without any programming or extensive statistical knowledge yet wants to make data driven decisions. Thus, the design of Shiny PET is based on 3 main principles - user-friendliness, interactivity and ease of understanding, yet comprehensive enough for users to make data driven decisions. The application's colour scheme is based on Airbnb's official colours - Raush, Babu and Foggy (type of gray). 

The application consist of three modules - Exploratory, Text and Predictive. 

## 4.1 Exploratory module

The exploratory module enables users to perform exploratory and confirmatory analysis on selected variables to identify interesting patterns. There are three sections in this module - observe, map and confirm & explore.

### 4.1.1 Observe submodule

```{r fig.cap='Interface and components of Observe section', out.width="100%"}
include_graphics("images/design_observe.png")
```

As shown in Figure [1], the Observe section provides a summary of the data for users to quickly understand and form questions surrounding the data. Hence, this section was designed mainly based on ease of understanding principles.

There are two main components - first is the top 4 boxes that provide an overview of the data - number of variables, observations and data type. The second component is the tables below shows the summary of each variable by respective data type. The tables allow for some interactivity - search boxes allows user to filter the data accordingly, while the arrow icons next to the variables names allow users to sort the data according to their needs.

### 4.1.2 Map submodule

```{r fig.cap='Interface and components of Map section', out.width="100%"}
include_graphics("images/design_map.png")
```

The Map section, Figure [2], the Map section allows user to explore the geographic patterns of Airbnb listings through thematic maps. Thus, this section was designed based on the three principles stated above and partially based on Shneiderman's interactive dynamics principle of "overview, zoom and filter, then details on demand", save for the 'zoom and filter' portion as it was not applicable to this data.

As such, there are 2 main components of this submodule - the map which provides a macro overview of the Airbnb listings by the selected variable. The second component is the table, which provides details of the map.

### 4.1.3 Map submodule

The Explore and Confirm section, figure [3], enables user to explore and perform inferential statistics based on their exploration and questions generated from the previous two sections. 

```{r fig.cap='Interface and components of Explore and Confirm section', out.width="100%"}
include_graphics("images/design_explore1.png")
```

There are 3 main components - the selection input on the left, the statistical results and the chart.

The selection input was designed to be interactive and user-friendly, allowing users to customise charts based on the drop-down list provided. The application provides for 4 types of chart namely: distribution, mosaic, boxplot and scatter plot. In drop down menus will change according to the selected chart type, for example, if the 'Distribution' chart was selected, only the x-variable drop-down input will be shown.

```{r fig.cap="Graph's manipulation function of the Explore and Confirm section", out.width="100%"}
include_graphics("images/design_explore2.png")
```

The chart was designed according to Shneiderman's interactive dynamics of highlight, filter or manipulate. This graph allows for users to manipulate views by selecting a single object in a plot, highlighting selected records and defining a region on the graph. Furthermore, the plotted chart can be downloaded for users to communicate their findings. See figure [4] for examples

Given that the application is tailored towards users that are not well versed in statistics, the statistical test was designed to be easy to understand, thus the test methods and results are automated based on the selected variables. An interactive slider is provided for user to easily adjust statistical test.

## 4.2 Text module

## Predictive module
Predictive analytics attempts to make prediction about a specific outcome based on historical data. It is done by understanding the relationship between variables/predictors to develop a prediction model. In general, predictive analytics comprises several steps: data pre-processing, feature selection, model training, model tuning, validation, and model selection.

Tidymodels has become the popular choice in R community which provides a framework for predictive modeling and machine learning. It is aligned with the tidyverse principles which leads to a tidier and consistent grammar in the predictive analytics process. Our predictive module design framework follow tidymodels framework for data sampling, model training, tuning, and validation. On top of that, data pre-processing and feature selection are supported by other R packages such as tidyverse, ranger and Boruta.

To support predictive analytics, visualisation and interactivity are embedded throughout each step:  
a. Data sampling - Selection of training-test split proportion provides flexibility in deciding how to spend data budget on the model development process. The distribution plot between training and test set highlights any potential bias in the training data set.  
b. Feature selection - Correlation matrix with customised correlation type and p-value criteria, as well as variable importance allow assessment of correlation among variables.  
c. Data transformation - Distribution plot between pre and post processing step increases user awareness on what transformation steps are performed and on which variables.  
d. Model training and validation - Rsquare plot to visualise training/validation result along with table of metric performance and coefficient estimate or decision tree information as interactive plot to improve result evaluation.    
e. Prediction error assessment - Training set distribution plot overlapped with predicted values to allow further investigation on prediction error.  
f. Hyper-parameter tuning - Plot of model performance using different hyper-parameters setting helps user to understand the change in performance.  
g. Model evaluation - Plot of performance from different models to support clearer model evaluation process.

# 5. Demonstration 

- use case

# 6. Discussion

What has the audience learned from your work? What new insights or practices has your system enabled? A full blown user study is not expected, but informal observations of use that help evaluate your system are encouraged.

# 7. Future Work

Shiny PET was built with Singapore's Airbnb dataset as a usecase for using R Shiny to perform exploratory and confirmatory, text and predictive analytics without users needing extensive programming or statistical knowledge. Hence, the application could be further enhance by including a data load and wrangling function to accommodate different datasets.

Additionally, the current types of chart and statistical test are limited with only 4 types of charts and parametric statistical test for each chart type respectively. Other charts, such as violin and bar charts, can be incorporated further. Additional hypothesis testing methods can be included such as non-parametric test for median, statistical test by pairs and others. The current application only supports two types of map, other spatial maps such as kernel density map and navigation map can be included.

The current predictive module is limited to 5 types of predictive model: linear regression, generalised linear model, decision tree, random forest, and boosted tree. In future, more predictive models can be added to the list, such as neural network (neuralnet / keras package are supported by Tidymodels) to provide user with wider model selection. In terms of hyper-parameter tuning, more parameters can be made available for user input to provide more flexibility in developing predictive model. In-depth statistical analysis in model training such as residual analysis are currently not available and this would be a good additional tool to improve our predictive module.

# 8. Acknowledgement

The authors wish to thank Professor Kam Tin Seong of Singapore Management University for his extensive guidance and support during this project.

